<pre><font color="#007f69">__includes</font><font color="#000000"> [ </font><font color="#963700">&quot;parameters.nls&quot;</font><font color="#000000"> </font><font color="#963700">&quot;reds.nls&quot;</font><font color="#000000"> </font><font color="#963700">&quot;greens.nls&quot;</font><font color="#000000"> ]<br /><br /></font><font color="#5a5a5a">; definition des especes</font><font color="#000000"><br /></font><font color="#660096">breed</font><font color="#000000"> [ Explorers Explorer ]<br /></font><font color="#660096">breed</font><font color="#000000"> [ RocketLaunchers RocketLauncher ]<br /></font><font color="#660096">breed</font><font color="#000000"> [ Harvesters Harvester ]<br /></font><font color="#660096">breed</font><font color="#000000"> [ Bases Base ]<br /></font><font color="#660096">breed</font><font color="#000000"> [ Missiles Missile ]<br /></font><font color="#660096">breed</font><font color="#000000"> [ Fafs Faf ]<br /></font><font color="#660096">breed</font><font color="#000000"> [ Burgers Burger ]<br /></font><font color="#660096">breed</font><font color="#000000"> [ Seeds Seed ]<br /></font><font color="#660096">breed</font><font color="#000000"> [ Walls Wall ]<br /></font><font color="#660096">breed</font><font color="#000000"> [ Perceptions Perception ]<br /><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;;;; definition des variables</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; les variables communes à tous les robots</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">turtles-own</font><font color="#000000"> [ energy                 </font><font color="#5a5a5a">;; l'energie de l'agent</font><font color="#000000"><br />              carrying-food?         </font><font color="#5a5a5a">;; la quantite de nourriture transportee</font><font color="#000000"><br />              detection-range        </font><font color="#5a5a5a">;; le rayon de perception</font><font color="#000000"><br />              speed                  </font><font color="#5a5a5a">;; la vitesse</font><font color="#000000"><br />              fd-ok?                 </font><font color="#5a5a5a">;; l'agent a-t-il le droit de se deplacer ? (un seul deplacement par tour)</font><font color="#000000"><br />              percept                </font><font color="#5a5a5a">;; un agent pour visualiser la zone de perception</font><font color="#000000"><br />              my-bases               </font><font color="#5a5a5a">;; les bases de l'agent</font><font color="#000000"><br />              mem0 mem1 mem2         </font><font color="#5a5a5a">;; six zones memoires a utiliser pour la programmation des agents</font><font color="#000000"><br />              mem3 mem4 mem5         </font><font color="#5a5a5a">;; chacune peut contenir un scalaire ou une liste de 2 valeurs</font><font color="#000000"><br />              friend                 </font><font color="#5a5a5a">;; la couleur de mon équipe</font><font color="#000000"><br />              ennemy                 </font><font color="#5a5a5a">;; la couleur de l'ennemi</font><font color="#000000"><br />              death-burgers          </font><font color="#5a5a5a">;; le nombre de burgers relâchés à la mort d'un agent</font><font color="#000000"><br />            ]<br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; les variables specifiques aux rocket launchers</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">RocketLaunchers-own</font><font color="#000000"> [ nb-missiles    </font><font color="#5a5a5a">;; le nb de missiles transportes</font><font color="#000000"><br />                      max-missiles   </font><font color="#5a5a5a">;; le nb max de missiles autorise</font><font color="#000000"><br />                      nb-fafs        </font><font color="#5a5a5a">;; le nb de missiles de type &quot;fire and forget&quot;</font><font color="#000000"><br />                      max-fafs       </font><font color="#5a5a5a">;; le nb max de missiles de type &quot;fire and forget&quot; autorise</font><font color="#000000"><br />                      waiting        </font><font color="#5a5a5a">;; une tempo entre 2 tirs</font><font color="#000000"><br />                    ]<br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; les variables specifiques aux harvesters</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">Harvesters-own</font><font color="#000000"> [ carried-walls-nrj    </font><font color="#5a5a5a">;; l'énergie des murs transportés</font><font color="#000000"><br />               ]<br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; les variables specifiques aux bases</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">Bases-own</font><font color="#000000"> [ nb-missiles              </font><font color="#5a5a5a">;; le nb de missiles transportes</font><font color="#000000"><br />            max-missiles             </font><font color="#5a5a5a">;; le nb max de missiles autorise</font><font color="#000000"><br />            nb-fafs                  </font><font color="#5a5a5a">;; le nb de missiles de type &quot;fire and forget&quot;</font><font color="#000000"><br />            max-fafs                 </font><font color="#5a5a5a">;; le nb max de missiles de type &quot;fire and forget&quot; autorise</font><font color="#000000"><br />            waiting                  </font><font color="#5a5a5a">;; une tempo entre 2 tirs</font><font color="#000000"><br />            mem6 mem7 mem8           </font><font color="#5a5a5a">;; la mémoire de la base est supérieure à celle des autres robots</font><font color="#000000"><br />            mem9 mem10 mem11         </font><font color="#5a5a5a">;; chaque emplacement mémoire peut contenir une liste</font><font color="#000000"><br />            create-ok?<br />          ]<br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; les variables specifiques aux missiles</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">Missiles-own</font><font color="#000000"> [ my-range ]            </font><font color="#5a5a5a">;; la portee du missile</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; les variables specifiques aux fafs</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">Fafs-own</font><font color="#000000"> [ my-range                  </font><font color="#5a5a5a">;; la portee du faf</font><font color="#000000"><br />           target                    </font><font color="#5a5a5a">;; la cible du faf</font><font color="#000000"><br />         ]<br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; les variables specifiques aux perceptions (= cercles centres sur les robots pour visualiser leur sphère de perception)</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">Perceptions-own</font><font color="#000000"> [ agt my-range ]<br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; les variables specifiques aux graines</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">Seeds-own</font><font color="#000000"> [ age ]<br /></font><font color="#007f69">Burgers-own</font><font color="#000000"> [ burger-breed           </font><font color="#5a5a5a">;; l'espèce de l'agent qui l'a créé</font><font color="#000000"><br />              who-id                 </font><font color="#5a5a5a">;; l'identifiant du robot qui l'a créé</font><font color="#000000"><br />            ]<br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; les variables globales</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">globals</font><font color="#000000"> [ victoire                     </font><font color="#5a5a5a">;; 1 si victoire des verts / 2 si victoire des rouges</font><font color="#000000"><br />          duree                        </font><font color="#5a5a5a">;; la duree d'une partie</font><font color="#000000"><br />          energy_green                 </font><font color="#5a5a5a">;; la quantite d'energie de l'equipe verte</font><font color="#000000"><br />          energy_red                   </font><font color="#5a5a5a">;; la quantite d'energie de l'equipe rouge</font><font color="#000000"><br /><br />          wall-cost                    </font><font color="#5a5a5a">;; le cout de fabrication d'un mur</font><font color="#000000"><br />          wall-nrj                     </font><font color="#5a5a5a">;; l'energie initiale d'un mur</font><font color="#000000"><br />          seed-cost                    </font><font color="#5a5a5a">;; le cout d'une graine</font><font color="#000000"><br />          max-seeds                    </font><font color="#5a5a5a">;; la quantite max de graines par patch</font><font color="#000000"><br />          maturation-time              </font><font color="#5a5a5a">;; le temps de maturation des graines</font><font color="#000000"><br />          burger-decay                 </font><font color="#5a5a5a">;; la vitesse de pourrissement des burgers</font><font color="#000000"><br /><br />          base-nrj                     </font><font color="#5a5a5a">;; l'energie d'une base toute neuve</font><font color="#000000"><br />          base-perception              </font><font color="#5a5a5a">;; la distance de perception d'une base</font><font color="#000000"><br />          base-speed                   </font><font color="#5a5a5a">;; la vitesse d'une base</font><font color="#000000"><br />          base-nb-missiles             </font><font color="#5a5a5a">;; le nombre initial de missiles</font><font color="#000000"><br />          base-max-missiles            </font><font color="#5a5a5a">;; le nombre maximal de missiles</font><font color="#000000"><br />          base-nb-fafs                 </font><font color="#5a5a5a">;; le nombre initial de fafs</font><font color="#000000"><br />          base-max-fafs                </font><font color="#5a5a5a">;; le nombre maximal de fafs</font><font color="#000000"><br />          base-waiting                 </font><font color="#5a5a5a">;; la temporisation entre 2 envois de missiles</font><font color="#000000"><br />          base-burgers                 </font><font color="#5a5a5a">;; le nb de burgers créés en cas de mort d'une base</font><font color="#000000"><br /><br />          rocket-launcher-cost         </font><font color="#5a5a5a">;; le cout de fabrication d'un rocket-launcher</font><font color="#000000"><br />          rocket-launcher-nrj          </font><font color="#5a5a5a">;; l'energie d'un rocket-launcher tout neuf</font><font color="#000000"><br />          rocket-launcher-perception   </font><font color="#5a5a5a">;; la distance de perception d'un rocket-launcher</font><font color="#000000"><br />          rocket-launcher-speed        </font><font color="#5a5a5a">;; la vitesse d'un rocket-launcher</font><font color="#000000"><br />          rocket-launcher-metabolism   </font><font color="#5a5a5a">;; le metabolisme d'un rocket-launcher (consommation d'energie a chaque tour)</font><font color="#000000"><br />          rocket-launcher-nb-missiles  </font><font color="#5a5a5a">;; le nombre initial de missiles</font><font color="#000000"><br />          rocket-launcher-max-missiles </font><font color="#5a5a5a">;; le nombre maximal de missiles</font><font color="#000000"><br />          rocket-launcher-nb-fafs      </font><font color="#5a5a5a">;; le nombre initial de fafs</font><font color="#000000"><br />          rocket-launcher-max-fafs     </font><font color="#5a5a5a">;; le nombre maximal de fafs</font><font color="#000000"><br />          rocket-launcher-waiting      </font><font color="#5a5a5a">;; la temporisation entre 2 envois de missiles</font><font color="#000000"><br />          rocket-launcher-burgers      </font><font color="#5a5a5a">;; le nb de burgers créés en cas de mort d'un rocket-launcher</font><font color="#000000"><br /><br />          explorer-cost                </font><font color="#5a5a5a">;; le cout de fabrication d'un explorer</font><font color="#000000"><br />          explorer-nrj                 </font><font color="#5a5a5a">;; l'energie d'un explorer tout neuf</font><font color="#000000"><br />          explorer-perception          </font><font color="#5a5a5a">;; la distance de perception d'un explorer</font><font color="#000000"><br />          explorer-speed               </font><font color="#5a5a5a">;; la vitesse d'un explorer</font><font color="#000000"><br />          explorer-metabolism          </font><font color="#5a5a5a">;; le metabolisme d'un explorer (consommation d'energie a chaque tour)</font><font color="#000000"><br />          explorer-burgers             </font><font color="#5a5a5a">;; le nb de burgers créés en cas de mort d'un explorer</font><font color="#000000"><br /><br />          harvester-cost               </font><font color="#5a5a5a">;; le cout de fabrication d'un harvester</font><font color="#000000"><br />          harvester-nrj                </font><font color="#5a5a5a">;; l'energie d'un harvester tout neuf</font><font color="#000000"><br />          harvester-perception         </font><font color="#5a5a5a">;; la distance de perception d'un harvester</font><font color="#000000"><br />          harvester-speed              </font><font color="#5a5a5a">;; la vitesse d'un harvester</font><font color="#000000"><br />          harvester-metabolism         </font><font color="#5a5a5a">;; le metabolisme d'un harvester (consommation d'energie a chaque tour)</font><font color="#000000"><br />          harvester-burgers            </font><font color="#5a5a5a">;; le nb de burgers créés en cas de mort d'un harvester</font><font color="#000000"><br /><br />          missile-cost                 </font><font color="#5a5a5a">;; le cout de creation d'un missile</font><font color="#000000"><br />          missile-range                </font><font color="#5a5a5a">;; la portee d'un missile</font><font color="#000000"><br />          missile-robot-damage         </font><font color="#5a5a5a">;; les dommages d'un missile sur un robot</font><font color="#000000"><br />          missile-base-damage          </font><font color="#5a5a5a">;; les dommages d'un missile sur une base</font><font color="#000000"><br />          missile-speed                </font><font color="#5a5a5a">;; la vitesse d'un missile</font><font color="#000000"><br /><br />          faf-cost                     </font><font color="#5a5a5a">;; le cout de creation d'un faf</font><font color="#000000"><br />          faf-range                    </font><font color="#5a5a5a">;; la portee d'un faf</font><font color="#000000"><br />          faf-robot-damage             </font><font color="#5a5a5a">;; les dommages d'un faf sur un robot</font><font color="#000000"><br />          faf-base-damage              </font><font color="#5a5a5a">;; les dommages d'un faf sur une base</font><font color="#000000"><br />          faf-speed                    </font><font color="#5a5a5a">;; la vitesse d'un faf</font><font color="#000000"><br /><br />          collision-damage             </font><font color="#5a5a5a">;; dégâts en cas de collision</font><font color="#000000"><br /><br />          burger-periodicity           </font><font color="#5a5a5a">;; la periodicite avec laquelle les burgers sont ajoutes</font><font color="#000000"><br />          burger-quantity              </font><font color="#5a5a5a">;; le nb de burgers crees a chaque fois</font><font color="#000000"><br />          wild-burger-min-nrj          </font><font color="#5a5a5a">;; l'energie minimale d'un burger sauvage</font><font color="#000000"><br />          wild-burger-max-nrj          </font><font color="#5a5a5a">;; l'energie maximale d'un burger sauvage</font><font color="#000000"><br />          seeded-burger-min-nrj        </font><font color="#5a5a5a">;; l'energie minimale d'un burger cultive</font><font color="#000000"><br />          seeded-burger-max-nrj        </font><font color="#5a5a5a">;; l'energie maximale d'un burger cultive</font><font color="#000000"><br />]<br /><br /></font><font color="#007f69">to</font><font color="#000000"> test-int<br />  </font><font color="#0000aa">let</font><font color="#000000"> i </font><font color="#963700">2000000000</font><font color="#000000"><br />  </font><font color="#0000aa">show</font><font color="#000000"> i<br />  </font><font color="#0000aa">while</font><font color="#000000"> [i </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> i i </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">]<br />  </font><font color="#0000aa">show</font><font color="#000000"> i<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; Procedure d'initialisation</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> setup [ config ]<br />  </font><font color="#5a5a5a">; efface tout</font><font color="#000000"><br />  </font><font color="#0000aa">clear-all</font><font color="#000000"><br />  init-parameters<br /><br />  </font><font color="#5a5a5a">; paramètres generaux</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> victoire </font><font color="#963700">0</font><font color="#000000"><br />  </font><font color="#5a5a5a">; cree 2 bases de chaque couleur</font><font color="#000000"><br />  new-Base </font><font color="#963700">red</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> </font><font color="#963700">30</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000"><br />  new-Base </font><font color="#963700">red</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> </font><font color="#963700">30</font><font color="#000000"> </font><font color="#963700">-10</font><font color="#000000"><br />  new-Base </font><font color="#963700">green</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000"> </font><font color="#963700">-30</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000"><br />  new-Base </font><font color="#963700">green</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000"> </font><font color="#963700">-30</font><font color="#000000"> </font><font color="#963700">-10</font><font color="#000000"><br /><br />  </font><font color="#5a5a5a">; demande aux bases de creer des robots</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> Bases </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">] [<br />    </font><font color="#0000aa">set</font><font color="#000000"> my-bases Bases </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> ]<br />    </font><font color="#5a5a5a">; appelle la procedure d'activation correspondant a la couleur</font><font color="#000000"><br />    initGreenBase<br />  ]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> Bases </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000">] [<br />    </font><font color="#0000aa">set</font><font color="#000000"> my-bases Bases </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000"> ]<br />    </font><font color="#5a5a5a">; appelle la procedure d'activation correspondant a la couleur</font><font color="#000000"><br />    initRedBase<br />  ]<br /><br />  </font><font color="#5a5a5a">; cree des obstacles</font><font color="#000000"><br />  new-random-walls<br /><br />  </font><font color="#5a5a5a">; ajoute de la nourriture</font><font color="#000000"><br />  </font><font color="#0000aa">repeat</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"> [ new-random-burgers burger-quantity ]<br /><br />  </font><font color="#5a5a5a">; met à jour l'affichage des ressources globales des 2 equipes</font><font color="#000000"><br />  update_energy_watches<br /><br />  </font><font color="#0000aa">reset-ticks</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; Procedure principale</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> go<br />  </font><font color="#5a5a5a">; reinitialise la capacité de se déplacer</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> fd-ok? </font><font color="#963700">true</font><font color="#000000"> ]<br />  </font><font color="#5a5a5a">; réinitialise la capacité à créer des robots ou des murs pour les bases</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> Bases [ </font><font color="#0000aa">set</font><font color="#000000"> create-ok? </font><font color="#963700">true</font><font color="#000000"> ]<br />  </font><font color="#5a5a5a">; si plus de bases vertes ni bleues, victoire des rouges</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> </font><font color="#660096">any?</font><font color="#000000"> Bases </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> ][ </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;Victoire des rouges&quot;</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> victoire </font><font color="#963700">1</font><font color="#000000"> </font><font color="#0000aa">stop</font><font color="#000000"> ]<br />  </font><font color="#5a5a5a">; si plus de bases rouges ni bleues, victoire des verts</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> </font><font color="#660096">any?</font><font color="#000000"> Bases </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000"> ][ </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;Victoire des verts&quot;</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> victoire </font><font color="#963700">2</font><font color="#000000"> </font><font color="#0000aa">stop</font><font color="#000000"> ]<br /><br />  </font><font color="#5a5a5a">; pour tous les explorers</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> Explorers [<br />    </font><font color="#5a5a5a">; decremente l'energie</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> explorer-metabolism<br />    </font><font color="#5a5a5a">; teste s'ils sont toujours en vie</font><font color="#000000"><br />    mort<br />    </font><font color="#5a5a5a">; affiche ou non un label sur l'agent</font><font color="#000000"><br />    display-label<br />    </font><font color="#5a5a5a">; appelle la procedure d'activation correspondant a la couleur</font><font color="#000000"><br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">)<br />    [ </font><font color="#0000aa">carefully</font><font color="#000000">[goGreenExplorer][</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#660096">error-message</font><font color="#000000">] ]<br />    [ </font><font color="#0000aa">carefully</font><font color="#000000">[goRedExplorer][</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#660096">error-message</font><font color="#000000">] ]<br />  ]<br /><br />  </font><font color="#5a5a5a">; pour tous les rocket-launchers</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> RocketLaunchers [<br />    </font><font color="#5a5a5a">; decremente l'energie</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> rocket-launcher-metabolism<br />    </font><font color="#5a5a5a">; teste s'ils sont toujours en vie</font><font color="#000000"><br />    mort<br />    </font><font color="#5a5a5a">; decremente le delai d'attente avant de pouvoir lancer un nouveau missile</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> (waiting </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [ </font><font color="#0000aa">set</font><font color="#000000"> waiting waiting </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> ]<br />    </font><font color="#5a5a5a">; affiche ou non un label sur l'agent</font><font color="#000000"><br />    display-label<br />    </font><font color="#5a5a5a">; appelle la procedure d'activation correspondant a la couleur</font><font color="#000000"><br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">)<br />    [ </font><font color="#0000aa">carefully</font><font color="#000000">[goGreenRocketLauncher][</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#660096">error-message</font><font color="#000000">] ]<br />    [ </font><font color="#0000aa">carefully</font><font color="#000000">[goRedRocketLauncher][</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#660096">error-message</font><font color="#000000">] ]<br />  ]<br /><br />  </font><font color="#5a5a5a">; pour tous les moissonneurs</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> Harvesters [<br />    </font><font color="#5a5a5a">; decremente l'energie</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> harvester-metabolism<br />    </font><font color="#5a5a5a">; teste s'ils sont toujours en vie</font><font color="#000000"><br />    mort<br />    </font><font color="#5a5a5a">; affiche ou non un label sur l'agent</font><font color="#000000"><br />    display-label<br />    </font><font color="#5a5a5a">; appelle la procedure d'activation correspondant a la couleur</font><font color="#000000"><br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">)<br />    [ </font><font color="#0000aa">carefully</font><font color="#000000">[goGreenHarvester][</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#660096">error-message</font><font color="#000000">] ]<br />    [ </font><font color="#0000aa">carefully</font><font color="#000000">[goRedHarvester][</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#660096">error-message</font><font color="#000000">] ]<br />  ]<br /><br />  </font><font color="#5a5a5a">; pour toutes les bases</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> Bases [<br />    </font><font color="#5a5a5a">; teste si elles sont toujours en vie</font><font color="#000000"><br />    mort<br />    </font><font color="#5a5a5a">; decremente le delai d'attente avant de pouvoir lancer un nouveau missile</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> (waiting </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [ </font><font color="#0000aa">set</font><font color="#000000"> waiting waiting </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> ]<br />    </font><font color="#5a5a5a">; convertit la nourriture recuperee en energie</font><font color="#000000"><br />    convert-food-into-energy<br />    </font><font color="#5a5a5a">; affiche ou non un label sur l'agent</font><font color="#000000"><br />    display-label<br />    </font><font color="#5a5a5a">; appelle la procedure d'activation correspondant a la couleur</font><font color="#000000"><br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">)<br />    [ </font><font color="#0000aa">carefully</font><font color="#000000">[goGreenBase][</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#660096">error-message</font><font color="#000000">] ]<br />    [ </font><font color="#0000aa">carefully</font><font color="#000000">[goRedBase][</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#660096">error-message</font><font color="#000000">] ]<br />  ]<br /><br />  </font><font color="#5a5a5a">; guidage des missiles</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> Missiles [ </font><font color="#0000aa">carefully</font><font color="#000000">[go-missile][</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#660096">error-message</font><font color="#000000">] ]<br /><br />  </font><font color="#5a5a5a">; guidage des missiles</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> Fafs [ </font><font color="#0000aa">carefully</font><font color="#000000">[go-faf][</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#660096">error-message</font><font color="#000000">] ]<br /><br />  </font><font color="#5a5a5a">; pousse des graines</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> Seeds [ </font><font color="#0000aa">carefully</font><font color="#000000">[grow-seed][</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#660096">error-message</font><font color="#000000">] ]<br />  </font><font color="#5a5a5a">; pourrissement des burgers</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> Burgers [ </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> burger-decay </font><font color="#0000aa">if</font><font color="#000000"> (energy </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [</font><font color="#0000aa">die</font><font color="#000000">] ]<br /><br />  </font><font color="#5a5a5a">; affichage des spheres de perception</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> Perceptions [ </font><font color="#0000aa">carefully</font><font color="#000000">[go-perception][</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#660096">error-message</font><font color="#000000">] ]<br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> Walls [ </font><font color="#0000aa">if</font><font color="#000000"> (energy </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [</font><font color="#0000aa">die</font><font color="#000000">] ]<br /><br />  </font><font color="#5a5a5a">; ajout aleatoire de nouveaux burgers</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">random</font><font color="#000000"> burger-periodicity </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [ </font><font color="#0000aa">carefully</font><font color="#000000">[new-random-burgers burger-quantity][</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#660096">error-message</font><font color="#000000">] ]<br /><br /><br />  </font><font color="#5a5a5a">; met à jour l'affichage des ressources globales des 2 equipes</font><font color="#000000"><br />  update_energy_watches<br />  </font><font color="#0000aa">tick</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> duree) [ </font><font color="#0000aa">stop</font><font color="#000000"> ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to-report</font><font color="#000000"> compute-energy [ c ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">round</font><font color="#000000"> (</font><font color="#660096">sum</font><font color="#000000"> [energy] </font><font color="#660096">of</font><font color="#000000"> Bases </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c ] </font><font color="#660096">+</font><font color="#000000"><br />  </font><font color="#660096">sum</font><font color="#000000"> [energy] </font><font color="#660096">of</font><font color="#000000"> Explorers </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c ] </font><font color="#660096">+</font><font color="#000000"><br />  </font><font color="#660096">sum</font><font color="#000000"> [energy] </font><font color="#660096">of</font><font color="#000000"> Harvesters </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c ] </font><font color="#660096">+</font><font color="#000000"><br />  </font><font color="#660096">sum</font><font color="#000000"> [carrying-food?] </font><font color="#660096">of</font><font color="#000000"> Harvesters </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c ] </font><font color="#660096">+</font><font color="#000000"><br />  </font><font color="#660096">sum</font><font color="#000000"> [energy] </font><font color="#660096">of</font><font color="#000000"> RocketLaunchers </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c ] </font><font color="#660096">+</font><font color="#000000"><br />  </font><font color="#660096">sum</font><font color="#000000"> [nb-missiles </font><font color="#660096">*</font><font color="#000000"> missile-cost] </font><font color="#660096">of</font><font color="#000000"> RocketLaunchers </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c ] </font><font color="#660096">+</font><font color="#000000"><br />  </font><font color="#660096">sum</font><font color="#000000"> [nb-fafs </font><font color="#660096">*</font><font color="#000000"> faf-cost] </font><font color="#660096">of</font><font color="#000000"> RocketLaunchers </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c ] </font><font color="#660096">+</font><font color="#000000"><br />  </font><font color="#660096">sum</font><font color="#000000"> [nb-missiles </font><font color="#660096">*</font><font color="#000000"> missile-cost] </font><font color="#660096">of</font><font color="#000000"> bases </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c ] </font><font color="#660096">+</font><font color="#000000"><br />  </font><font color="#660096">sum</font><font color="#000000"> [nb-fafs </font><font color="#660096">*</font><font color="#000000"> faf-cost] </font><font color="#660096">of</font><font color="#000000"> Bases </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c ])<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> update_energy_watches<br />  </font><font color="#0000aa">set</font><font color="#000000"> energy_red compute-energy </font><font color="#963700">red</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> energy_green compute-energy </font><font color="#963700">green</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; Creation d'une nouvelle base de couleur 'c' a la position ('x', 'y')</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> new-base [ c en x y ]<br />  </font><font color="#5a5a5a">; cree la base</font><font color="#000000"><br />  create-Bases </font><font color="#963700">1</font><font color="#000000"> [<br />    </font><font color="#5a5a5a">; initialise la taille, la couleur, la position</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> c<br />    </font><font color="#0000aa">set</font><font color="#000000"> friend c<br />    </font><font color="#0000aa">set</font><font color="#000000"> ennemy en<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000"> x<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000"> y<br />    </font><font color="#5a5a5a">; initialise l'energie</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> energy base-nrj<br />    </font><font color="#5a5a5a">; initialise le rayon de perception</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> detection-range base-perception<br />    </font><font color="#5a5a5a">; les bases ne bougent pas</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> speed </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> mem0 </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> mem1 </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> mem2 </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> mem3 </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> mem4 </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> mem5 </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> mem6 </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> mem7 </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> mem8 </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> mem9 </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> mem10 </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> mem11 </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#5a5a5a">; la base a le droit de créer un robot par tour</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> create-ok? </font><font color="#963700">true</font><font color="#000000"><br />    </font><font color="#5a5a5a">; initialise le nb de missiles</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> nb-missiles base-nb-missiles<br />    </font><font color="#0000aa">set</font><font color="#000000"> max-missiles base-max-missiles<br />    </font><font color="#5a5a5a">; initialise le nb de faf</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> nb-fafs base-nb-fafs<br />    </font><font color="#0000aa">set</font><font color="#000000"> max-fafs base-max-fafs<br />    </font><font color="#0000aa">set</font><font color="#000000"> waiting </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> death-burgers base-burgers<br />    </font><font color="#5a5a5a">; cree un agent 'sphere de perception'</font><font color="#000000"><br />    hatch-Perceptions </font><font color="#963700">1</font><font color="#000000"> [<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> c<br />      </font><font color="#0000aa">set</font><font color="#000000"> my-range </font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> base-perception<br />      </font><font color="#0000aa">set</font><font color="#000000"> agt </font><font color="#660096">myself</font><font color="#000000"><br />      </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> percept </font><font color="#660096">self</font><font color="#000000"> ]<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"><br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; cree 'n' burgers</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> new-random-burgers [ n ]<br />  </font><font color="#5a5a5a">; position choisie aleatoirement</font><font color="#000000"><br />  </font><font color="#0000aa">let</font><font color="#000000"> x </font><font color="#660096">random-xcor</font><font color="#000000"><br />  </font><font color="#0000aa">let</font><font color="#000000"> y </font><font color="#660096">random-ycor</font><font color="#000000"><br />  </font><font color="#5a5a5a">; cree n burgers autour de la position choisie</font><font color="#000000"><br />  create-burgers n [ init-burger x y wild-burger-min-nrj wild-burger-max-nrj Burgers </font><font color="#963700">-1</font><font color="#000000"> ]<br />  </font><font color="#5a5a5a">; cree des burgers à la même position relative pour les 2 autres bases</font><font color="#000000"><br />  create-burgers n [ init-burger x </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">60</font><font color="#000000"> y wild-burger-min-nrj wild-burger-max-nrj Burgers </font><font color="#963700">-1</font><font color="#000000"> ]<br /></font><font color="#5a5a5a">;  create-burgers n [ init-burger x + 80 y wild-burger-min-nrj wild-burger-max-nrj Burgers -1 ]</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; cree 'n' burgers à la position de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> new-burgers [ x y n min-nrj max-nrj bb wi ]<br />  </font><font color="#5a5a5a">; cree n burgers autour de l'agent</font><font color="#000000"><br />  hatch-Burgers n [ init-burger x y min-nrj max-nrj bb wi ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> init-burger [ x y min-nrj max-nrj bb wi ]<br />  </font><font color="#5a5a5a">; positions etalees autour du point choisi</font><font color="#000000"><br />  </font><font color="#0000aa">setxy</font><font color="#000000"> x y<br />  </font><font color="#0000aa">set</font><font color="#000000"> burger-breed bb<br />  </font><font color="#0000aa">set</font><font color="#000000"> who-id wi<br />  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />  </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />  </font><font color="#5a5a5a">; energie entre 50 et 100</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> energy min-nrj </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> (max-nrj </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> min-nrj)<br /></font><font color="#5a5a5a">;  show word word burger-breed &quot; / &quot; who-id</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; Creation de nouveaux obstacles</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> new-random-walls<br />  </font><font color="#5a5a5a">; 180 murs crees aleatoirement</font><font color="#000000"><br />  create-Walls </font><font color="#963700">60</font><font color="#000000"> [<br />    </font><font color="#0000aa">let</font><font color="#000000"> x </font><font color="#660096">random-xcor</font><font color="#000000"><br />    </font><font color="#0000aa">let</font><font color="#000000"> y </font><font color="#660096">random-ycor</font><font color="#000000"><br />    </font><font color="#5a5a5a">;; crée 3 murs symétriques</font><font color="#000000"><br />    init-wall x y<br />    init-wall x </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">40</font><font color="#000000"> y<br />    init-wall x </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">80</font><font color="#000000"> y<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;; seules les bases peuvent créer de nouveaux murs</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> new-wall [ a ]<br />  </font><font color="#0000aa">if</font><font color="#000000"> (([</font><font color="#660096">breed</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a </font><font color="#660096">=</font><font color="#000000"> Bases) </font><font color="#660096">and</font><font color="#000000"> create-ok?) [<br />    </font><font color="#5a5a5a">; on verifie que l'agent a suffisamment d'energie</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> ([energy] </font><font color="#660096">of</font><font color="#000000"> a </font><font color="#660096">&gt;</font><font color="#000000"> wall-cost) [<br />      </font><font color="#5a5a5a">; creation de l'agent</font><font color="#000000"><br />      hatch-Walls </font><font color="#963700">1</font><font color="#000000"> [<br />        </font><font color="#5a5a5a">; meme couleur et orientation que l'agent parent</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#5a5a5a">; on decale le nouvel agent</font><font color="#000000"><br />        </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#5a5a5a">; initialisation de l'energie, du rayon de perception, de la vitesse</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> energy wall-nrj<br />      ]<br />      </font><font color="#5a5a5a">; decremente l'energie de l'agent createur</font><font color="#000000"><br />      </font><font color="#0000aa">ask</font><font color="#000000"> a [<br />        </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> wall-cost<br />        </font><font color="#0000aa">set</font><font color="#000000"> create-ok? </font><font color="#963700">false</font><font color="#000000"><br />      ]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> init-wall [ x y ]<br />  </font><font color="#0000aa">setxy</font><font color="#000000"> x y<br />  </font><font color="#0000aa">set</font><font color="#000000"> energy wall-nrj<br />  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">gray</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; Creation d'un nouvel explorer par l'agent 'a'</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> new-Explorer [ a ]<br />  </font><font color="#5a5a5a">; on verifie que l'agent a suffisamment d'energie</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> (([energy] </font><font color="#660096">of</font><font color="#000000"> a </font><font color="#660096">&gt;</font><font color="#000000"> explorer-cost) </font><font color="#660096">and</font><font color="#000000"> create-ok?) [<br />    </font><font color="#5a5a5a">; orientation choisie aleatoirement</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />    </font><font color="#5a5a5a">; creation de l'agent</font><font color="#000000"><br />    hatch-Explorers </font><font color="#963700">1</font><font color="#000000"> [<br />      </font><font color="#5a5a5a">; initialisation de sa taille</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"><br />      </font><font color="#5a5a5a">; meme couleur et orientation que l'agent parent</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a<br />      </font><font color="#0000aa">set</font><font color="#000000"> friend [friend] </font><font color="#660096">of</font><font color="#000000"> a<br />      </font><font color="#0000aa">set</font><font color="#000000"> ennemy [ennemy] </font><font color="#660096">of</font><font color="#000000"> a<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> [</font><font color="#660096">heading</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a<br />      </font><font color="#5a5a5a">; on decale le nouvel agent</font><font color="#000000"><br />      </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />      </font><font color="#5a5a5a">; initialisation de l'energie, du rayon de perception, de la vitesse</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> energy explorer-nrj<br />      </font><font color="#0000aa">set</font><font color="#000000"> detection-range explorer-perception<br />      </font><font color="#0000aa">set</font><font color="#000000"> speed explorer-speed<br />      </font><font color="#0000aa">set</font><font color="#000000"> my-bases Bases </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a ]<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem0 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem1 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem2 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem3 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem4 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem5 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> death-burgers explorer-burgers<br />      </font><font color="#0000aa">set</font><font color="#000000"> carrying-food? </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#5a5a5a">; cree un agent 'sphere de perception'</font><font color="#000000"><br />      hatch-Perceptions </font><font color="#963700">1</font><font color="#000000"> [<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a<br />        </font><font color="#0000aa">set</font><font color="#000000"> my-range </font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> explorer-perception<br />        </font><font color="#0000aa">set</font><font color="#000000"> agt </font><font color="#660096">myself</font><font color="#000000"><br />        </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> percept </font><font color="#660096">self</font><font color="#000000"> ]<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"><br />      ]<br />      </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">)<br />      [ initGreenExplorer ]<br />      [ initRedExplorer ]<br />    ]<br />    </font><font color="#5a5a5a">; decremente l'energie de l'agent createur</font><font color="#000000"><br />    </font><font color="#0000aa">ask</font><font color="#000000"> a [<br />      </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> explorer-cost<br />      </font><font color="#0000aa">set</font><font color="#000000"> create-ok? </font><font color="#963700">false</font><font color="#000000"><br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; Creation d'un nouveau rocket-launcher par l'agent 'a'</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> new-RocketLauncher [ a ]<br />  </font><font color="#5a5a5a">; on verifie que l'agent a suffisamment d'energie</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> (([energy] </font><font color="#660096">of</font><font color="#000000"> a </font><font color="#660096">&gt;</font><font color="#000000"> rocket-launcher-cost) </font><font color="#660096">and</font><font color="#000000"> create-ok?) [<br />    </font><font color="#5a5a5a">; orientation choisie aleatoirement</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />    </font><font color="#5a5a5a">; creation de l'agent</font><font color="#000000"><br />    hatch-RocketLaunchers </font><font color="#963700">1</font><font color="#000000"> [<br />      </font><font color="#5a5a5a">; initialisation de sa taille</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"><br />      </font><font color="#5a5a5a">; meme couleur et orientation que l'agent parent</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a<br />      </font><font color="#0000aa">set</font><font color="#000000"> friend [friend] </font><font color="#660096">of</font><font color="#000000"> a<br />      </font><font color="#0000aa">set</font><font color="#000000"> ennemy [ennemy] </font><font color="#660096">of</font><font color="#000000"> a<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> [</font><font color="#660096">heading</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a<br />      </font><font color="#5a5a5a">; on decale le nouvel agent</font><font color="#000000"><br />      </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />      </font><font color="#5a5a5a">; initialisation de l'energie, du rayon de perception, de la vitesse</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> energy rocket-launcher-nrj<br />      </font><font color="#0000aa">set</font><font color="#000000"> detection-range rocket-launcher-perception<br />      </font><font color="#0000aa">set</font><font color="#000000"> speed rocket-launcher-speed<br />      </font><font color="#5a5a5a">; initialement 30 missiles, 100 au maximum</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> nb-missiles rocket-launcher-nb-missiles<br />      </font><font color="#0000aa">set</font><font color="#000000"> max-missiles rocket-launcher-max-missiles<br />      </font><font color="#5a5a5a">; initialement 30 missiles, 100 au maximum</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> nb-fafs rocket-launcher-nb-fafs<br />      </font><font color="#0000aa">set</font><font color="#000000"> max-fafs rocket-launcher-max-fafs<br />      </font><font color="#0000aa">set</font><font color="#000000"> waiting </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> my-bases Bases </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a ]<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem0 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem1 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem2 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem3 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem4 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem5 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> death-burgers rocket-launcher-burgers<br />      </font><font color="#0000aa">set</font><font color="#000000"> carrying-food? </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#5a5a5a">; cree un agent 'sphere de perception'</font><font color="#000000"><br />      hatch-Perceptions </font><font color="#963700">1</font><font color="#000000"> [<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a<br />        </font><font color="#0000aa">set</font><font color="#000000"> my-range </font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> rocket-launcher-perception<br />        </font><font color="#0000aa">set</font><font color="#000000"> agt </font><font color="#660096">myself</font><font color="#000000"><br />        </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> percept </font><font color="#660096">self</font><font color="#000000"> ]<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"><br />      ]<br />      </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">)<br />      [ initGreenRocketLauncher ]<br />      [ initRedRocketLauncher ]<br />    ]<br />    </font><font color="#5a5a5a">; decremente l'energie de l'agent createur</font><font color="#000000"><br />    </font><font color="#0000aa">ask</font><font color="#000000"> a [<br />      </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> rocket-launcher-cost<br />      </font><font color="#0000aa">set</font><font color="#000000"> create-ok? </font><font color="#963700">false</font><font color="#000000"><br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; Creation d'un nouvel harvester par l'agent 'a'</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> new-Harvester [ a ]<br />  </font><font color="#5a5a5a">; on verifie que l'agent a suffisamment d'energie</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> (([energy] </font><font color="#660096">of</font><font color="#000000"> a </font><font color="#660096">&gt;</font><font color="#000000"> harvester-cost) </font><font color="#660096">and</font><font color="#000000"> create-ok?) [<br />    </font><font color="#5a5a5a">; orientation choisie aleatoirement</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />    </font><font color="#5a5a5a">; creation de l'agent</font><font color="#000000"><br />    hatch-Harvesters </font><font color="#963700">1</font><font color="#000000"> [<br />      </font><font color="#5a5a5a">; initialisation de sa taille</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"><br />      </font><font color="#5a5a5a">; meme couleur et orientation que l'agent parent</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a<br />      </font><font color="#0000aa">set</font><font color="#000000"> friend [friend] </font><font color="#660096">of</font><font color="#000000"> a<br />      </font><font color="#0000aa">set</font><font color="#000000"> ennemy [ennemy] </font><font color="#660096">of</font><font color="#000000"> a<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> [</font><font color="#660096">heading</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a<br />      </font><font color="#5a5a5a">; on decale le nouvel agent</font><font color="#000000"><br />      </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />      </font><font color="#5a5a5a">; initialisation de l'energie, du rayon de perception, de la vitesse</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> energy harvester-nrj<br />      </font><font color="#0000aa">set</font><font color="#000000"> detection-range harvester-perception<br />      </font><font color="#0000aa">set</font><font color="#000000"> speed harvester-speed<br />      </font><font color="#0000aa">set</font><font color="#000000"> my-bases Bases </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a ]<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem0 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem1 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem2 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem3 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem4 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem5 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> death-burgers harvester-burgers<br />      </font><font color="#0000aa">set</font><font color="#000000"> carrying-food? </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> carried-walls-nrj []<br />      </font><font color="#5a5a5a">; cree un agent 'sphere de perception'</font><font color="#000000"><br />      hatch-Perceptions </font><font color="#963700">1</font><font color="#000000"> [<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a<br />        </font><font color="#0000aa">set</font><font color="#000000"> my-range </font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> harvester-perception<br />        </font><font color="#0000aa">set</font><font color="#000000"> agt </font><font color="#660096">myself</font><font color="#000000"><br />        </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> percept </font><font color="#660096">self</font><font color="#000000"> ]<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"><br />      ]<br />      </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">)<br />      [ initGreenHarvester ]<br />      [ initRedHarvester ]<br />    ]<br />    </font><font color="#5a5a5a">; decremente l'energie de l'agent createur</font><font color="#000000"><br />    </font><font color="#0000aa">ask</font><font color="#000000"> a [<br />      </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> harvester-cost<br />      </font><font color="#0000aa">set</font><font color="#000000"> create-ok? </font><font color="#963700">false</font><font color="#000000"><br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; affiche ou non un label sur l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> display-label<br />  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"><br />  </font><font color="#0000aa">ifelse</font><font color="#000000"> (display? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;missiles&quot;</font><font color="#000000">)<br />  [ </font><font color="#0000aa">ifelse</font><font color="#000000"> ((</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> RocketLaunchers) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Bases)) [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> nb-missiles ][ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> ]]<br />  [ </font><font color="#0000aa">ifelse</font><font color="#000000"> (display? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;fafs&quot;</font><font color="#000000">)<br />    [ </font><font color="#0000aa">ifelse</font><font color="#000000"> ((</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> RocketLaunchers) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Bases)) [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> nb-fafs ][ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> ]]<br />    [ </font><font color="#0000aa">ifelse</font><font color="#000000"> (display? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;energy&quot;</font><font color="#000000">)<br />      [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#660096">round</font><font color="#000000"> energy ]<br />      [ </font><font color="#0000aa">ifelse</font><font color="#000000"> (display? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;carried-walls-nrj&quot;</font><font color="#000000">)<br />        [ </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Harvesters) [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> carried-walls-nrj][ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000">]]<br />        [ </font><font color="#0000aa">ifelse</font><font color="#000000"> (display? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;mem0&quot;</font><font color="#000000">)<br />          [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> mem0 ]<br />          [ </font><font color="#0000aa">ifelse</font><font color="#000000"> (display? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;mem1&quot;</font><font color="#000000">)<br />            [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> mem1 ]<br />            [ </font><font color="#0000aa">ifelse</font><font color="#000000"> (display? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;mem2&quot;</font><font color="#000000">)<br />              [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> mem2 ]<br />              [ </font><font color="#0000aa">ifelse</font><font color="#000000"> (display? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;mem3&quot;</font><font color="#000000">)<br />                [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> mem3 ]<br />                [ </font><font color="#0000aa">ifelse</font><font color="#000000"> (display? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;mem4&quot;</font><font color="#000000">)<br />                  [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> mem4 ]<br />                  [ </font><font color="#0000aa">ifelse</font><font color="#000000"> (display? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;mem5&quot;</font><font color="#000000">)<br />                    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> mem5 ]<br />                    [ </font><font color="#0000aa">if</font><font color="#000000"> (display? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;carrying-food?&quot;</font><font color="#000000">)<br />                      [ </font><font color="#0000aa">ifelse</font><font color="#000000"> ((</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Bases) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> RocketLaunchers))<br />                        [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> ]<br />                        [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#660096">round</font><font color="#000000"> carrying-food? ]<br />                      ]<br />                    ]<br />                  ]<br />                ]<br />              ]<br />            ]<br />          ]<br />        ]<br />      ]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; si l'agent n'a plus d'energie, il meurt</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> mort<br />  </font><font color="#0000aa">if</font><font color="#000000"> (energy </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [<br />    </font><font color="#5a5a5a">; crée des burgers en mourant</font><font color="#000000"><br />    new-burgers </font><font color="#660096">xcor</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000"> death-burgers wild-burger-min-nrj wild-burger-max-nrj </font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"><br />    </font><font color="#5a5a5a">; supprime le cercle de perception</font><font color="#000000"><br />    </font><font color="#0000aa">ask</font><font color="#000000"> percept [</font><font color="#0000aa">die</font><font color="#000000">]<br />    </font><font color="#5a5a5a">; meurt</font><font color="#000000"><br />    </font><font color="#0000aa">die</font><font color="#000000"><br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; prend le rocher 'b'</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> take-wall [ b ]<br />  </font><font color="#0000aa">if</font><font color="#000000"> ([</font><font color="#660096">breed</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> b </font><font color="#660096">=</font><font color="#000000"> Walls) [<br />    </font><font color="#5a5a5a">;; seuls les agents de type &quot;moissonneurs&quot; peuvent soulever les rochers</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> ((</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Harvesters) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">length</font><font color="#000000"> carried-walls-nrj </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">5</font><font color="#000000">)) [<br />      </font><font color="#5a5a5a">; si on est suffisamment proche</font><font color="#000000"><br />      </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">distance</font><font color="#000000"> b </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">) [<br />        </font><font color="#0000aa">set</font><font color="#000000"> carried-walls-nrj </font><font color="#660096">fput</font><font color="#000000"> [energy] </font><font color="#660096">of</font><font color="#000000"> b carried-walls-nrj<br />        </font><font color="#5a5a5a">; l'agent-rocher est tue</font><font color="#000000"><br />        </font><font color="#0000aa">ask</font><font color="#000000"> b [ </font><font color="#0000aa">die</font><font color="#000000"> ]<br />      ]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; depose le rocher devant l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> drop-wall<br />  </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">not</font><font color="#000000"> </font><font color="#660096">empty?</font><font color="#000000"> carried-walls-nrj) [<br />    hatch-Walls </font><font color="#963700">1</font><font color="#000000"> [<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> [</font><font color="#660096">heading</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> energy </font><font color="#660096">first</font><font color="#000000"> [carried-walls-nrj] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> carrying-food? </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem0 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem1 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem2 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem3 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem4 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> mem5 </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> detection-range </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> speed </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> fd-ok? </font><font color="#963700">false</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> percept </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> my-bases </font><font color="#963700">0</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> friend </font><font color="#963700">gray</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> ennemy </font><font color="#963700">gray</font><font color="#000000"><br />      </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    ]<br />    </font><font color="#0000aa">set</font><font color="#000000"> carried-walls-nrj </font><font color="#660096">remove-item</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> carried-walls-nrj<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; prend la nourriture 'b'</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> take-food [ b ]<br />  </font><font color="#0000aa">if</font><font color="#000000"> ([</font><font color="#660096">breed</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> b </font><font color="#660096">=</font><font color="#000000"> Burgers) [<br />    </font><font color="#5a5a5a">;; seuls les agents de type &quot;moissonneurs&quot; peuvent recolter la nourriture</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Harvesters) [<br />      </font><font color="#5a5a5a">; si on est suffisamment proche</font><font color="#000000"><br />      </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">distance</font><font color="#000000"> b </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">) [<br />        </font><font color="#0000aa">without-interruption</font><font color="#000000"> [<br />          </font><font color="#5a5a5a">; on augmente la quantite de nourriture transportee</font><font color="#000000"><br />          </font><font color="#0000aa">set</font><font color="#000000"> carrying-food? carrying-food? </font><font color="#660096">+</font><font color="#000000"> [energy] </font><font color="#660096">of</font><font color="#000000"> b<br />          </font><font color="#5a5a5a">; l'agent-nourriture est tue</font><font color="#000000"><br />          </font><font color="#0000aa">ask</font><font color="#000000"> b [ </font><font color="#0000aa">die</font><font color="#000000"> ]<br />        ]<br />      ]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; donne la quantite 'c' de nourriture a l'agent 'agent'</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> give-food [ agent c ]<br />  </font><font color="#5a5a5a">; on ne peut donner de la nourriture qu'à un autre moissonneur ou à la base</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> ((agent </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (([</font><font color="#660096">breed</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> agent </font><font color="#660096">=</font><font color="#000000"> Explorers) </font><font color="#660096">or</font><font color="#000000"> ([</font><font color="#660096">breed</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> agent </font><font color="#660096">=</font><font color="#000000"> Harvesters) </font><font color="#660096">or</font><font color="#000000"> ([</font><font color="#660096">breed</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> agent </font><font color="#660096">=</font><font color="#000000"> Bases))) [<br />    </font><font color="#5a5a5a">; si les 2 agents sont suffisamment proches l'un de l'autre</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">distance</font><font color="#000000"> agent </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (c </font><font color="#660096">&lt;=</font><font color="#000000"> carrying-food?) [<br />      </font><font color="#5a5a5a">; incremente la nourriture de l'autre agent</font><font color="#000000"><br />      </font><font color="#0000aa">ask</font><font color="#000000"> agent [ </font><font color="#0000aa">set</font><font color="#000000"> carrying-food? carrying-food? </font><font color="#660096">+</font><font color="#000000"> c ]<br />      </font><font color="#5a5a5a">; decremente sa propre nourriture</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> carrying-food? carrying-food? </font><font color="#660096">-</font><font color="#000000"> c<br />      </font><font color="#0000aa">if</font><font color="#000000"> (carrying-food? </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#963700">&quot;pb d'échange de nourriture&quot;</font><font color="#000000">]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; plante 'nb' graines dans le sol</font><font color="#000000"><br /></font><font color="#5a5a5a">; - on ne peut pas avoir plus de 'max-seeds' graines dans un patch</font><font color="#000000"><br /></font><font color="#5a5a5a">; - il faut consommer 'seed-cost' unites de 'carrying-food?' pour planter une graine</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> plant-seeds [ c nb ]<br />  </font><font color="#5a5a5a">; compte le nombre de graine ici</font><font color="#000000"><br />  </font><font color="#0000aa">let</font><font color="#000000"> nb-seeds </font><font color="#660096">count</font><font color="#000000"> Seeds-here<br />  </font><font color="#5a5a5a">; evalue combien on peut planter de graines ici</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> nb </font><font color="#660096">min</font><font color="#000000"> (</font><font color="#660096">list</font><font color="#000000"> nb (max-seeds </font><font color="#660096">-</font><font color="#000000"> nb-seeds) (carrying-food? </font><font color="#660096">/</font><font color="#000000"> seed-cost))<br /><br />  </font><font color="#0000aa">if</font><font color="#000000"> (nb </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">count</font><font color="#000000"> Walls-here </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [<br />    </font><font color="#5a5a5a">; plante les graines</font><font color="#000000"><br />    </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patch-here</font><font color="#000000"> [<br />      sprout-Seeds nb [ </font><font color="#0000aa">set</font><font color="#000000"> age </font><font color="#963700">0</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;dot&quot;</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> friend c  ]<br />    ]<br />    </font><font color="#5a5a5a">; c'est preleve sur la nourriture</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> carrying-food? carrying-food? </font><font color="#660096">-</font><font color="#000000"> nb </font><font color="#660096">*</font><font color="#000000"> seed-cost<br />    </font><font color="#0000aa">if</font><font color="#000000"> (carrying-food? </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [</font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#963700">&quot;pb de plantation&quot;</font><font color="#000000">]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; assure la croissance des graines</font><font color="#000000"><br /></font><font color="#5a5a5a">; - au bout de 'maturation-time' ticks, produit un burger avec une energie comprise</font><font color="#000000"><br /></font><font color="#5a5a5a">;   entre 'seeded-burger-min-nrj' et 'seeded-burger-max-nrj'</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> grow-seed<br />  </font><font color="#0000aa">set</font><font color="#000000"> age age </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">scale-color</font><font color="#000000"> friend age </font><font color="#963700">0</font><font color="#000000"> maturation-time<br />  </font><font color="#0000aa">if</font><font color="#000000"> (age </font><font color="#660096">=</font><font color="#000000"> maturation-time) [<br />    new-burgers </font><font color="#660096">xcor</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> seeded-burger-min-nrj seeded-burger-max-nrj </font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"><br />    </font><font color="#0000aa">die</font><font color="#000000"><br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; donne la quantite 'nrj' d'energie a l'agent 'agent'</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> give-energy [ agent nrj ]<br />  </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Bases) [<br />    </font><font color="#0000aa">if</font><font color="#000000"> (agent </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000">) [<br />      </font><font color="#5a5a5a">; si les 2 agents sont suffisamment proches l'un de l'autre</font><font color="#000000"><br />      </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">distance</font><font color="#000000"> agent </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (nrj </font><font color="#660096">&lt;=</font><font color="#000000"> energy) [<br />        </font><font color="#5a5a5a">; incremente l'energie de l'autre agent</font><font color="#000000"><br />        </font><font color="#0000aa">ask</font><font color="#000000"> agent [ </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">+</font><font color="#000000"> nrj ]<br />        </font><font color="#5a5a5a">; decremente sa propre energie</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> nrj<br />      ]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; procedure reservee aux bases pour convertir la nourriture</font><font color="#000000"><br /></font><font color="#5a5a5a">; que les agents ont ramenee en energie</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> convert-food-into-energy<br />  </font><font color="#5a5a5a">; incremente l'energie</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">+</font><font color="#000000"> carrying-food?<br />  </font><font color="#5a5a5a">; supprime la nourriture</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> carrying-food? </font><font color="#963700">0</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie un des agents présent devant dans un cone d'ouverture 135° et jusqu'à une distance d</font><font color="#000000"><br /></font><font color="#5a5a5a">; (hormis les burgers, les graines et les agents de perception)</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> free-ahead? [ d ]<br />  </font><font color="#0000aa">set</font><font color="#000000"> d </font><font color="#660096">max</font><font color="#000000"> (</font><font color="#660096">list</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> d)<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">other</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-cone</font><font color="#000000"> d </font><font color="#963700">135</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Burgers </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Seeds </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Perceptions </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Missiles </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Fafs ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; avance vers l'avant</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> forward-move [ d ]<br />  </font><font color="#0000aa">without-interruption</font><font color="#000000"> [<br />    </font><font color="#5a5a5a">; si l'agent ne s'est pas deja deplace au cours de ce cycle</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> (fd-ok?) [<br />      </font><font color="#5a5a5a">; il inhibe son deplacement pendant le tour</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> fd-ok? </font><font color="#963700">false</font><font color="#000000"><br />      </font><font color="#5a5a5a">; limite le déplacement à la vitesse de l'agent</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> d </font><font color="#660096">min</font><font color="#000000"> (</font><font color="#660096">list</font><font color="#000000"> d speed)<br />      </font><font color="#5a5a5a">; est-ce qu'il y a un agent devant</font><font color="#000000"><br />      </font><font color="#0000aa">let</font><font color="#000000"> a free-ahead? d<br />      </font><font color="#5a5a5a">; si la voie est libre</font><font color="#000000"><br />      </font><font color="#0000aa">ifelse</font><font color="#000000"> (a </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000">) [<br />        </font><font color="#5a5a5a">; il peut avancer...</font><font color="#000000"><br />        </font><font color="#0000aa">fd</font><font color="#000000"> d<br />        </font><font color="#5a5a5a">; il peut écraser les plants de burgers (sauf si c'est un harvester)</font><font color="#000000"><br />        </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Harvesters) [ </font><font color="#0000aa">ask</font><font color="#000000"> Seeds-here </font><font color="#660096">with</font><font color="#000000"> [age </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000">][ </font><font color="#0000aa">set</font><font color="#000000"> age age </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> ]]<br />      ]<br />      </font><font color="#5a5a5a">; sinon, il y a collision avec dégâts sur l'obstacle et sur le robot</font><font color="#000000"><br />      [<br />        </font><font color="#0000aa">ask</font><font color="#000000"> a [ </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> collision-damage ]<br />        </font><font color="#0000aa">ifelse</font><font color="#000000"> ([</font><font color="#660096">breed</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> a </font><font color="#660096">=</font><font color="#000000"> Bases)<br />        [ </font><font color="#0000aa">set</font><font color="#000000"> energy </font><font color="#963700">0</font><font color="#000000"> ]<br />        [ </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> collision-damage ]<br />      ]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; effectue un mouvement aleatoire</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> random-move<br />  </font><font color="#5a5a5a">; choisit une orientation aleatoire entre -45 et +45 degres</font><font color="#000000"><br />  </font><font color="#0000aa">rt</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">91</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">45</font><font color="#000000"><br />  </font><font color="#5a5a5a">; avance vers l'avant</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> (free-ahead? speed </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000">) [forward-move speed]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; lance une nouvelle rocket dans la direction 'dir'</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> launch-rocket [ dir ]<br />  </font><font color="#5a5a5a">; si l'agent a encore des missiles et qu'il respecte le delai d'attente</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> ((waiting </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (nb-missiles </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">)) [<br />    </font><font color="#5a5a5a">; on decremente le nombre de missiles de l'agent</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> nb-missiles nb-missiles </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    </font><font color="#5a5a5a">; impose un delai d'attente de 5 entre 2 lancers de missiles</font><font color="#000000"><br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> bases)<br />    [ </font><font color="#0000aa">set</font><font color="#000000"> waiting rocket-launcher-waiting ]<br />    [ </font><font color="#0000aa">set</font><font color="#000000"> waiting base-waiting ]<br /><br />    </font><font color="#5a5a5a">; on cree un nouveau missile</font><font color="#000000"><br />    hatch-Missiles </font><font color="#963700">1</font><font color="#000000"> [<br />      </font><font color="#5a5a5a">; pas de label pour le missile</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"><br />      </font><font color="#5a5a5a">; taille 1</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />      </font><font color="#5a5a5a">; portee 20</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> my-range missile-range<br />      </font><font color="#5a5a5a">; en se dirigeant dans la direction 'dir'</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> dir<br />      </font><font color="#5a5a5a">; a la vitesse de 1</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> speed missile-speed<br />      </font><font color="#5a5a5a">; on decale le missile par rapport a l'agent</font><font color="#000000"><br />      </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">0.5</font><font color="#000000"><br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; procedure de &quot;guidage&quot; des missiles</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> go-missile<br />  </font><font color="#5a5a5a">; recupere la liste des agents a une distance inferieure a 1.5 dans un cone de 180 degres</font><font color="#000000"><br />  </font><font color="#0000aa">let</font><font color="#000000"> t </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-cone</font><font color="#000000"> </font><font color="#963700">1.5</font><font color="#000000"> </font><font color="#963700">180</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Missiles) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Fafs) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Burgers) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Perceptions) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Seeds) ]<br />  </font><font color="#5a5a5a">; s'il y a des agents</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">any?</font><font color="#000000"> t [<br />    </font><font color="#5a5a5a">; on decremente leur energie de 100 si ce n'est pas une base, de 20 si c'est une base</font><font color="#000000"><br />    </font><font color="#0000aa">ask</font><font color="#000000"> t [ </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Bases) [ </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> missile-robot-damage ][ </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> missile-base-damage ] ]<br />    </font><font color="#5a5a5a">; le missile est detruit</font><font color="#000000"><br />    </font><font color="#0000aa">die</font><font color="#000000"><br />  ]<br />  </font><font color="#5a5a5a">; si la portee du missile devient nulle...</font><font color="#000000"><br />  </font><font color="#0000aa">ifelse</font><font color="#000000"> my-range </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#5a5a5a">; ... alors il est detruit</font><font color="#000000"><br />    [ </font><font color="#0000aa">die</font><font color="#000000"> ]<br />    </font><font color="#5a5a5a">; sinon il avance a la vitesse speed, et sa portee est diminuee d'autant</font><font color="#000000"><br />    [  </font><font color="#5a5a5a">; avance tout droit à la vitesse speed</font><font color="#000000"><br />      </font><font color="#0000aa">fd</font><font color="#000000"> speed </font><font color="#0000aa">set</font><font color="#000000"> my-range my-range </font><font color="#660096">-</font><font color="#000000"> speed<br />    ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; possibilite de creer 'n' nouveaux missiles pour un rocket-launcher ou pour la base</font><font color="#000000"><br /></font><font color="#5a5a5a">; cout = 10 pour le creer</font><font color="#000000"><br /></font><font color="#5a5a5a">; degats = 100 pour un robot / 20 pour une base</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> new-missile [ n ]<br />  </font><font color="#0000aa">if</font><font color="#000000"> ((</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> RocketLaunchers) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Bases)) [<br />    </font><font color="#5a5a5a">; si on n'atteint pas le max de missiles autorises et qu'on a suffisamment d'energie</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> (nb-missiles </font><font color="#660096">+</font><font color="#000000"> n </font><font color="#660096">&lt;=</font><font color="#000000"> max-missiles) </font><font color="#660096">and</font><font color="#000000"> (energy </font><font color="#660096">&gt;</font><font color="#000000"> missile-cost </font><font color="#660096">*</font><font color="#000000"> n) [<br />      </font><font color="#5a5a5a">; le nb de missiles est incremente de 'n'</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> nb-missiles nb-missiles </font><font color="#660096">+</font><font color="#000000"> n<br />      </font><font color="#5a5a5a">; chaque missile coûte 10 points d'energie a fabriquer</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> missile-cost </font><font color="#660096">*</font><font color="#000000"> n<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; lance une nouvelle rocket de type faf en direction de la cible t</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> launch-faf [ t ]<br />  </font><font color="#5a5a5a">; si l'agent a encore des fafs et qu'il respecte le delai d'attente</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> ((waiting </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (nb-fafs </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">)) [<br />    </font><font color="#5a5a5a">; on decremente le nombre de fafs de l'agent</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> nb-fafs nb-fafs </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    </font><font color="#5a5a5a">; impose un delai d'attente de 5 entre 2 lancers de fafs</font><font color="#000000"><br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> bases)<br />    [ </font><font color="#0000aa">set</font><font color="#000000"> waiting rocket-launcher-waiting ]<br />    [ </font><font color="#0000aa">set</font><font color="#000000"> waiting base-waiting ]<br /><br />    </font><font color="#5a5a5a">; on cree un nouveau faf</font><font color="#000000"><br />    hatch-Fafs </font><font color="#963700">1</font><font color="#000000"> [<br />      </font><font color="#5a5a5a">; pas de label pour le faf</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"><br />      </font><font color="#5a5a5a">; taille 1</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">yellow</font><font color="#000000"><br />      </font><font color="#5a5a5a">; portee 20</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> my-range faf-range<br />      </font><font color="#5a5a5a">; en se dirigeant dans la direction de la cible</font><font color="#000000"><br />      </font><font color="#0000aa">if</font><font color="#000000"> (t </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000">) [<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">towards</font><font color="#000000"> t<br />      ]<br />      </font><font color="#5a5a5a">; a la vitesse de 1</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> speed faf-speed<br />      </font><font color="#5a5a5a">; on decale le faf par rapport a l'agent</font><font color="#000000"><br />      </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">0.5</font><font color="#000000"><br />      </font><font color="#5a5a5a">; vérouille la cible</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> target t<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; procedure de &quot;guidage&quot; des missiles</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> go-faf<br />  </font><font color="#5a5a5a">; recupere la liste des agents a une distance inferieure a 1.5 dans un cone de 180 degres</font><font color="#000000"><br />  </font><font color="#0000aa">let</font><font color="#000000"> t </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-cone</font><font color="#000000"> </font><font color="#963700">1.5</font><font color="#000000"> </font><font color="#963700">180</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Missiles) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Fafs) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Burgers) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Perceptions) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Seeds) ]<br />  </font><font color="#5a5a5a">; s'il y a des agents</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">any?</font><font color="#000000"> t [<br />    </font><font color="#5a5a5a">; on decremente leur energie de la quantité prédéfinie</font><font color="#000000"><br />    </font><font color="#0000aa">ask</font><font color="#000000"> t [ </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> Bases) [ </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> faf-robot-damage ][ </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> faf-base-damage ] ]<br />    </font><font color="#5a5a5a">; le faf est detruit</font><font color="#000000"><br />    </font><font color="#0000aa">die</font><font color="#000000"><br />  ]<br />  </font><font color="#5a5a5a">; si la portee du missile devient nulle...</font><font color="#000000"><br />  </font><font color="#0000aa">ifelse</font><font color="#000000"> my-range </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#5a5a5a">; ... alors il est detruit</font><font color="#000000"><br />    [ </font><font color="#0000aa">die</font><font color="#000000"> ]<br />    </font><font color="#5a5a5a">; sinon il avance a la vitesse speed, et sa portee est diminuee d'autant</font><font color="#000000"><br />    [<br />      </font><font color="#0000aa">let</font><font color="#000000"> h </font><font color="#660096">heading</font><font color="#000000"><br />      </font><font color="#0000aa">if</font><font color="#000000"> (target </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000">) [<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">towards</font><font color="#000000"> target<br />      ]<br />      </font><font color="#5a5a5a">; avance tout droit à la vitesse speed</font><font color="#000000"><br />      </font><font color="#0000aa">fd</font><font color="#000000"> speed </font><font color="#0000aa">set</font><font color="#000000"> my-range my-range </font><font color="#660096">-</font><font color="#000000"> speed<br />    ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; possibilite de creer 'n' nouveaux missiles pour un rocket-launcher ou pour la base</font><font color="#000000"><br /></font><font color="#5a5a5a">; cout = 10 pour le creer</font><font color="#000000"><br /></font><font color="#5a5a5a">; degats = 100 pour un robot / 20 pour une base</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> new-faf [ n ]<br />  </font><font color="#5a5a5a">; si on n'atteint pas le max de missiles autorises et qu'on a suffisamment d'energie</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> (nb-fafs </font><font color="#660096">+</font><font color="#000000"> n </font><font color="#660096">&lt;=</font><font color="#000000"> max-fafs) </font><font color="#660096">and</font><font color="#000000"> (energy </font><font color="#660096">&gt;</font><font color="#000000"> faf-cost </font><font color="#660096">*</font><font color="#000000"> n) [<br />    </font><font color="#5a5a5a">; le nb de missiles est incremente de 'n'</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> nb-fafs nb-fafs </font><font color="#660096">+</font><font color="#000000"> n<br />    </font><font color="#5a5a5a">; chaque missile coûte 10 points d'energie a fabriquer</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> energy energy </font><font color="#660096">-</font><font color="#000000"> faf-cost </font><font color="#660096">*</font><font color="#000000"> n<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de type Burger dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-food<br />  </font><font color="#0000aa">report</font><font color="#000000"> Burgers </font><font color="#660096">in-radius</font><font color="#000000"> detection-range<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les missiles de type faf dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-fafs<br />  </font><font color="#0000aa">report</font><font color="#000000"> Fafs </font><font color="#660096">in-radius</font><font color="#000000"> detection-range<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de type Burger dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-food-in-cone [ a ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> Burgers </font><font color="#660096">in-cone</font><font color="#000000"> detection-range a<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de type Seed dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">; les graines ne sont perceptibles que quand elle ont un age &gt; 500</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-seeds [ c ]<br />  </font><font color="#0000aa">ifelse</font><font color="#000000"> (c </font><font color="#660096">=</font><font color="#000000"> friend)<br />  [ </font><font color="#0000aa">report</font><font color="#000000"> Seeds </font><font color="#660096">in-radius</font><font color="#000000"> detection-range </font><font color="#660096">with</font><font color="#000000"> [ friend </font><font color="#660096">=</font><font color="#000000"> c ]]<br />  [ </font><font color="#0000aa">report</font><font color="#000000"> Seeds </font><font color="#660096">in-radius</font><font color="#000000"> detection-range </font><font color="#660096">with</font><font color="#000000"> [ (friend </font><font color="#660096">=</font><font color="#000000"> c) </font><font color="#660096">and</font><font color="#000000"> (age </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">500</font><font color="#000000">) ]]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de type Seed dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">; les graines ne sont perceptibles que quand elle ont un age &gt; 500</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-seeds-in-cone [ a c ]<br />  </font><font color="#0000aa">ifelse</font><font color="#000000"> (c </font><font color="#660096">=</font><font color="#000000"> friend)<br />  [ </font><font color="#0000aa">report</font><font color="#000000"> Seeds </font><font color="#660096">in-cone</font><font color="#000000"> detection-range a </font><font color="#660096">with</font><font color="#000000"> [ friend </font><font color="#660096">=</font><font color="#000000"> c ]]<br />  [ </font><font color="#0000aa">report</font><font color="#000000"> Seeds </font><font color="#660096">in-cone</font><font color="#000000"> detection-range a </font><font color="#660096">with</font><font color="#000000"> [ (friend </font><font color="#660096">=</font><font color="#000000"> c) </font><font color="#660096">and</font><font color="#000000"> (age </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">500</font><font color="#000000">) ]]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de type Wall dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-walls<br />  </font><font color="#0000aa">report</font><font color="#000000"> Walls </font><font color="#660096">in-radius</font><font color="#000000"> detection-range<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de type Wall dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-walls-in-cone [ a ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> Walls </font><font color="#660096">in-cone</font><font color="#000000"> detection-range a<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de couleur 'c' et de type 'Explorer' ou 'RocketLauncher' dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-robots [ c ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> detection-range </font><font color="#660096">with</font><font color="#000000"> [ (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c) </font><font color="#660096">and</font><font color="#000000"> ((</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Explorers) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> RocketLaunchers) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Harvesters))]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de couleur 'c' et de type 'Explorer' ou 'RocketLauncher' ou 'Harvesters' dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-robots-in-cone [ c a ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-cone</font><font color="#000000"> detection-range a </font><font color="#660096">with</font><font color="#000000"> [ (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c) </font><font color="#660096">and</font><font color="#000000"> ((</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Explorers) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> RocketLaunchers) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Harvesters))]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de couleur 'c' et de type b dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-specific-robots [ c b  ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> detection-range </font><font color="#660096">with</font><font color="#000000"> [ (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> b)]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de couleur 'c' et de type b dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-specific-robots-in-cone [ c b a ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-cone</font><font color="#000000"> detection-range a </font><font color="#660096">with</font><font color="#000000"> [ (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> b)]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les bases de couleur 'c' dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-base [ c ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> detection-range </font><font color="#660096">with</font><font color="#000000"> [ (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Bases) ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les bases de couleur 'c' dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-base-in-cone [ c a ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-cone</font><font color="#000000"> detection-range a </font><font color="#660096">with</font><font color="#000000"> [ (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Bases) ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de couleur 'c1' ou 'c2' et de type 'Explorer' ou 'RocketLauncher' dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-robots2 [ c1 c2 ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> detection-range </font><font color="#660096">with</font><font color="#000000"> [ ((</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c1) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c2)) </font><font color="#660096">and</font><font color="#000000"> ((</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Explorers) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> RocketLaunchers) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Harvesters))]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de couleur 'c1' ou 'c2' et de type 'Explorer' ou 'RocketLauncher' ou 'Harvesters' dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-robots2-in-cone [ c1 c2 a ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-cone</font><font color="#000000"> detection-range a </font><font color="#660096">with</font><font color="#000000"> [ ((</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c1) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c2)) </font><font color="#660096">and</font><font color="#000000"> ((</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Explorers) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> RocketLaunchers) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Harvesters))]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de couleur 'c1' ou 'c2' et de type b dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-specific-robots2 [ c1 c2 b  ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> detection-range </font><font color="#660096">with</font><font color="#000000"> [ ((</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c1) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c2)) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> b)]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les agents de couleur 'c1' ou 'c2' et de type b dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-specific-robots2-in-cone [ c1 c2 b a ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-cone</font><font color="#000000"> detection-range a </font><font color="#660096">with</font><font color="#000000"> [ ((</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c1) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c2)) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> b)]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les bases de couleur 'c1' ou 'c2' dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-base2 [ c1 c2 ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> detection-range </font><font color="#660096">with</font><font color="#000000"> [ ((</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c1) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c2)) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Bases) ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; renvoie les bases de couleur 'c1' ou 'c2' dans le rayon de perception de l'agent</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> perceive-base2-in-cone [ c1 c2 a ]<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-cone</font><font color="#000000"> detection-range a </font><font color="#660096">with</font><font color="#000000"> [ ((</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c1) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> c2)) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">breed</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Bases) ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#5a5a5a">; realise l'affichage d'un cercle autour de l'agent pour visualiser son rayon de perception</font><font color="#000000"><br /></font><font color="#5a5a5a">;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> go-perception<br />  </font><font color="#5a5a5a">; si on demande l'affichage du rayon de perception</font><font color="#000000"><br />  </font><font color="#0000aa">ifelse</font><font color="#000000"> (display-range?) [<br />    </font><font color="#5a5a5a">; change la taille de l'agent</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> my-range<br />    </font><font color="#5a5a5a">; les coordonnees suivent celles de l'agent auquel l'agent de perception appartient</font><font color="#000000"><br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> ( agt </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000"> ) [<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000"> [</font><font color="#660096">xcor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> agt<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000"> [</font><font color="#660096">ycor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> agt<br />    ]<br />    [ </font><font color="#0000aa">die</font><font color="#000000"> ]<br />  ]<br />  </font><font color="#5a5a5a">; ... sinon, taille 0 pour ne pas voir le cercle</font><font color="#000000"><br />  [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> ]<br /></font><font color="#007f69">end</font>
</pre>
